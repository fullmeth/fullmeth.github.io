---
layout: page
title: Get Started with Kotlin on Android
---
## 1. Установка Android Studio
>placeholder

## 2. Знакомство со средой разработки

![Start Screen](res/drawable/start_screen.png)

Открылась среда разработки. Жмем **Start a new Android Studio project.**

![Choose activity](res/drawable/choose_activity.png)

В первом окне нам необходимо выбрать устройство, для которого мы создаем новый проект, а также шаблон для стартового окна. Для первого проекта нам необходимо выбрать Empty Activity.

![Create project](res/drawable/create_project.png)

`Name` - имя проекта. Оно будет отображаться в списке проектов при открытии Android Studio. Напишем здесь TestApp.  
`Package name`  – это поле идентифицирует ваше приложения когда вы размещаете его для пользователей.  
`Language` - выбираем Kotlin.  
`Minimum API level` - если нет определенных требований к версии операционной системы, и вы не будете использовать специфические технологии, доступные только в новых версиях операционной системы, то есть рекомендация выбирать версию, которую поддерживает как минимум 85% устройств. В противном случае выбор версии зависит от требований, предъявляемых к программному обеспечению.

Нажимаем кнопку **Finish**

![Empty project](res/drawable/empty_project.png)

1. Это та часть, откуда вы можете получить доступ ко всем файлам, присутствующим в вашем проекте. Дальше мы рассмотрим структуру проекта подробнее.
2. Это область, где вы пишете код. Вы можете открывать несколько файлов одновременно на разных вкладках.  
3. Здесь вы можете увидеть выполняемый в данный момент процесс или действие. Здесь вы можете посмотреть ошибки, если таковые имеются в вашем проекте. А также посмотреть результаты сборки и т.д.

>Во время работы в Android Studio вы подробнее познакомитесь со всеми её возможностями, так что не пугайтесь если на данный момент у вас много вопросов.

Для работы с макетами в Android Studio встроен многофункциональный редактор макетов (Layout Editor), который позволит вам удобно конструировать самые разнообразные макеты пользовательского интерфейса.

![Layout Editor](res/drawable/layout_editor.png)

1. `Область с «виджетами»` – элементы пользовательского интерфейса;
2. `Дерево компонентов` – позволяет легко выбирать элементы и наглядно увидеть иерархию объектов в разметке;
3. `Панель с инструментами` – позволяет изменить размер и тип устройства, язык, версию API, а также содержит другие инструменты;
4. `Визуальное представление(Design)` – так элементы будут выглядеть на экране устройства;  
`Чертеж (Blueprint view)` – специальный вид, который позволяет легко увидеть взаимоотношения и наложения элементов, позволяет выделять невидимые элементы и так далее;
5. `Панель со свойствами` – позволяет изменять свойства выделенного виджета. Изначально представлены основные свойства выделенного элемента, по ссылке внизу можно перейти к отображению всех свойств элемента.

##### 2.1 Структура проекта

Главное, на что следует обратить внимание: проект имеет модульную структуру и основной модуль нашего приложения – `app`.

![Project Structure](res/drawable/project_structure.png)

В папке `app` такие папки: `manifests`, `java`, и `res`.

Раскройте папку `manifests`. Эта папка содержит файл `AndroidManifest.xml`. Этот файл описывает все компоненты приложения Android и считывается системой среды выполнения Android при запуске приложения.  

Раскройте папку `java`. Все файлы кода на языке Котлин и Java организованы здесь. Папка java содержит три подпапки:  

`ua.opu.testapp` (или указанное имя домена): Эта папка содержит файлы исходного кода Котлин и Java для вашего приложения. С этой папкой мы будем работать большую часть времени, поскольку это главный пакет проекта.  

`ua.opu.testapp (androidTest)`: эта папка для размещения инструментальных тестов.

`ua.opu.testapp (test)`: эта папка для размещения модульных тестов.

Подробнее о тестах вы можете узнать из Курса по архитектуре андроид-приложений.

Раскройте папку `res`. Эта папка содержит все ресурсы для вашего приложения, включая изображения, файлы макетов экранов, строковые ресурсы, значки и иконки, цвета и стили оформления. Она включает такие вложенные папки:  

`drawable`: Все изображения для вашего приложения будут сохранены в этой папке.

`layout`: Эта папка содержит файлы макета для активити – экранов приложения.  

В настоящее время ваше приложение имеет одно активити с файлом макета `activity_main.xml`.  

`mipmap`: Эта папка содержит значки запуска приложения – это те значки, которые отображаются на андроид-устройстве после установки приложения.  

`values`: Содержит ресурсы, такие как строки и цвета, используемые в приложении.  

Также в окне структуры проекта есть папка `Gradle Scripts`. Это файлы сборки для системы `Gradle`, которая используется для компиляции, построения и упаковки приложений и библиотек. Больше вам знать на данный момент не нужно.

## 3. Запуск Android приложения

Далее мы попробуем запустить приложение сгенерированное средой разработки.

Для запуска приложения из среды разработки Android Studio мы можем использовать 2 способа:
- подключенный к ПК смартфон или планшет под управлением системы Android;
- эмулятор Android

Если у вас есть смартфон под управлением операционной системы Android, то мы рекомендуем использовать его для запуска и тестирования. В случае, если отсутствует такая возможность или просто хотите попробовать эмулятор - используйте эмулятор.

##### 3.1 Запуск приложения на реальном устройстве

1. Подключите ваш смартфон к компьютеру с помощью кабеля USB. Вам может потребоваться установить соответствующий драйвер USB для вашего устройства.

2. Включите режим `Отладка` через USB на вашем устройстве.

Для того, чтобы узнать как включить отладку на вашем устройстве воспользуйтесь поисковой системой.

![Search](res/drawable/debug_mode.png)

Когда ваш телефон будет готов к запуску приложения вы сможете выбрать его в этом списке.

![Choose device](res/drawable/choose_device.png)

Чтобы запустить приложение из Android Studio:

Откройте один из файлов вашего проекта и нажмите Run app на панели инструментов. Или нажмите комбинацию клавиш Shift+F10.

![Run App](res/drawable/run_button.png)

Android Studio устанавливает приложение на выбранное устройство и запускает его.

Это простое приложение отображает строку «Hello World» на экране виртуального или физического устройства Android.

<img src="res/drawable/screenshot_hello_world.png" width="270" height="480" />

Вот что у нас вышло.

##### 3.2 Запуск приложения на эмуляторе.

###### Создание виртуального android-устройства (эмулятора)

В Android Studio есть утилита Android Virtual Device (AVD) manager для создания виртуального устройства (также известного как эмулятор), моделирующего конфигурацию определенного типа андроид-устройства.

Первым шагом является создание конфигурации, описывающей виртуальное устройство.

1. В главном меню Android Studio, выберите Tools > Android > AVD Manager, или нажмите иконку AVD Manager в тулбаре нажмите иконку AVD Manager в тулбаре
![AVD Manager](res/drawable/avd_manager.png)
2. Нажмите кнопку +Create Virtual Device. (Если виртуальное устройство создано ранее, в окне отображаются все существующие устройства и кнопка +Create Virtual Device  находится внизу.) В диалоговом окне Select Hardware отображается список предварительно настроенных типов аппаратных устройств.
3. Выберите устройство, например Nexus 5, и нажмите Next.
4. В окне System Image, на вкладке Recommended, выберите нужную версию.
5. Если ссылка Download  отображается рядом с версией, значит она еще не установлена и требуется загрузить ее. При необходимости щелкните ссылку, чтобы начать загрузку, и нажмите кнопку Next по окончании загрузки.
6. В следующем диалоговом окне примите значения по умолчанию и нажмите кнопку Finish.
7. Если окно Your Virtual Devices AVD Manager еще открыто, закройте его.

###### Возможные проблемы

*Если у вас на компьютере установлена операционная система Windows, а процессор AMD, то скорее всего вы увидите такое предупреждение в окне выбора оборудования для виртуального устройства. Дело в том, что образы виртуальных устройств с типом x86 не работают на связке Windows + AMD. Причем на связке Linux + AMD таких проблем нет. Процессоры Intel поддерживают образы x86 на любой операционной системе. Для Windows + AMD вы можете использовать образы типа arm, но они гораздо более медленные. Выходом будет использование реального устройства – андроид-смартфона или планшета, подключенного к компьютеру.*

*Другой распространенной проблемой является отключенная виртуализация процессора. Включить виртуализацию можно в биосе, в интернете можно найти много инструкций, как это делается.*

*Также нужно в SDK Manager на вкладке SDK Tools установить Intel x86 Emulator Accelerator для лучшей производительности и скорости работы. Только для процессоров Intel.*

*Если в окне выбора системного образа нет активных образов для установки, загрузите образ необходимой версии Android в SDK менеджере. Откройте окно SDK Manager и на вкладке SDK Platforms справа внизу установите флаг Show Package Details для отображения всех компонентов платформы (см. Скриншот 5). Отметьте для загрузки нужный файл System Image. После загрузки выбранный образ будет доступен в окне AVD Manager.установите флаг Show Package Details для отображения всех компонентов платформы.*

![Run App](res/drawable/avd_problems.png)

###### Запуск приложения на эмуляторе

В Android Studio, выберите в главном меню команду Run > Run app или нажмите иконку Run в тулбаре. нажмите иконку Run в тулбаре
В окне Select Deployment Target, под Available Virtual Devices, выберите только что настроенное виртуальное устройство и щелкните OK.
В зависимости от скорости компьютера это может занять некоторое время. Можно посмотреть в маленькую горизонтальную строку состояния в самом низу окна Android Studio, чтобы увидеть ход выполнения.

![Run App](res/drawable/run_app.png)

После того как приложение будет построено и эмулятор будет готов, среда Android Studio установит приложение в эмулятор и запустит его.
